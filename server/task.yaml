version: "3"

tasks:
  install:
    cmds:
      - go mod download

  update:
    cmds:
      - go get -u ./...
      - go mod tidy

  check:
    cmds:
      - if [ -n "$(gofmt -l ./src)" ]; then echo "unformatted files:"; gofmt -l ./src; exit 1; fi
      - go vet ./...

  fmt:
    cmds:
      - gofmt -w ./src
